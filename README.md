# Knowledge Base - МКБ Legal

Django-приложение для управления базой знаний юридических документов.

## Структура проекта

Проект содержит несколько приложений:

- **reviews** - Правовые обзоры с прогрессивной загрузкой
- **legal_opin** - Юридические заключения
- **risk** - Правовые риски  
- **docs** - Документооборот

## Основные возможности

### Reviews (Правовые обзоры)
- ✅ Быстрая загрузка первых 25 записей (0.2 сек)
- ✅ Прогрессивная загрузка остальных данных в фоне
- ✅ Мгновенная фильтрация по категориям и рубрикам
- ✅ Фильтрация по периоду дат
- ✅ Поиск по тексту (через backend)

### Legal Opinion (Юридические заключения)
- ✅ Адаптированный UI без mx-auto
- ✅ Табличное представление с 5 колонками
- ✅ Навигация через кнопки "Мои заключения" / "Новое заключение"
- ✅ Оптимизированная высота таблицы (600px)
- ✅ Sticky заголовок таблицы

## Технические особенности

- **Условная стилизация** - разные CSS файлы для каждого приложения
- **Прогрессивная загрузка** - сначала 25 записей, затем дозагрузка через API
- **Фильтрация без перезагрузки** - JavaScript фильтры работают мгновенно
- **Адаптивный дизайн** - работает на всех устройствах

## Установка и запуск

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Выполните миграции:
```bash
python manage.py migrate
```

3. Запустите сервер:
```bash
python manage.py runserver
```

## API Endpoints

### Reviews
- `GET /reviews/` - Главная страница обзоров
- `GET /reviews/api/load-more/?offset=25&limit=50` - Прогрессивная загрузка
- `POST /reviews/search` - Поиск по обзорам

### Legal Opinion
- `GET /legal_opin/` - Таблица заключений

## Структура файлов

```
knowledge_base/
├── templates/
│   ├── list.html                 # Общий шаблон списков
│   ├── reviews/addons/           # Компоненты для reviews
│   └── legal_opin/addons/        # Компоненты для legal_opin
├── static/
│   ├── js/main.js               # Общий JavaScript
│   ├── reviews/css/main.css     # Стили для reviews
│   └── legal_opin/css/main.css  # Стили для legal_opin
└── apps/
    ├── reviews/
    ├── legal_opin/
    ├── risk/
    └── docs/
```

## Последние изменения

- Реализована прогрессивная загрузка для reviews (ускорение с 4 сек до 0.2 сек)
- Оптимизирован UI для legal_opin приложения
- Исправлены проблемы с фильтрацией и поиском
- Улучшена производительность JavaScript фильтров

---

**Автор**: Разработано с использованием Django и современных веб-технологий 