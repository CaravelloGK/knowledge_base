{% load static %}
<div class="docs-page">
<div class="scrollable" style="height: 77vh; overflow-y: auto;">
<div class="row g-3">
    {% for document in documents %}
    <div class="col-md-6">
        <div class="card mb-3 shadow-sm position-relative news-item"
             data-direct="{{ document.category.id }}"
             data-subject="{{ document.subcategory.id }}">
             <div class="card-type-bar
                 {% if document.subcategory.name == 'Внутренние нормативные документы' %} type-vnd
                 {% elif document.subcategory.name == 'Типовые формы / Шаблоны' %} type-template
                 {% elif document.subcategory.name == 'Инструкции / Памятки / Ответы' %} type-faq
                 {% elif document.subcategory.name == 'Служебные записки' %} type-zapiska
                 {% elif document.subcategory.name == 'Нормативно-правовые акты (законы)' %} type-npa
                 {% elif document.subcategory.name == 'Информационные материалы' %} type-info
                 {% endif %}">
             </div>
             <div class="card-body">
                <span class="type-badge
                {% if document.subcategory.name == 'Внутренние нормативные документы' %} type-vnd
                {% elif document.subcategory.name == 'Типовые формы / Шаблоны' %} type-template
                {% elif document.subcategory.name == 'Инструкции / Памятки / Ответы' %} type-faq
                {% elif document.subcategory.name == 'Служебные записки' %} type-zapiska
                {% elif document.subcategory.name == 'Нормативно-правовые акты (законы)' %} type-npa
                {% elif document.subcategory.name == 'Информационные материалы' %} type-info
                {% endif %}">
                <div class="status-line mb-2">
                  <small class="text-muted">
                    <span class="rubric">
                      {% if document.category %}
                        <span class="badge rounded-pill bg-secondary">{{ document.category|truncatechars:50 }}</span>
                      {% endif %}
                    </span>
                    <span style="margin-right: 0.1rem; margin-left: 0.1rem"></span>
                    {% if document.created_at %}
                      <span class="created-date">| {{ document.created_at|date:"d.m.Y" }}</span>
                    {% endif %}
                  </small>
                </div>
                {% if document.description %}
                  <h6 class="card-title fw-bold">{{ document.title|truncatechars:80 }}</h6>
                  <p class="card-text">{{ document.description|cut:"&nbsp;"|striptags|truncatechars:140 }}</p>
                {% else %}
                  <h6 class="card-title fw-bold">{{ document.title|truncatechars:80 }}</h6>
                  <p class="card-text card-text-empty"></p>
                {% endif %}
                 <label class="btn btn-toggle
                    {% if document.subcategory.name == 'Внутренние нормативные документы' %} type-vnd
                    {% elif document.subcategory.name == 'Типовые формы / Шаблоны' %} type-template
                    {% elif document.subcategory.name == 'Инструкции / Памятки / Ответы' %} type-faq
                    {% elif document.subcategory.name == 'Служебные записки' %} type-zapiska
                    {% elif document.subcategory.name == 'Нормативно-правовые акты (законы)' %} type-npa
                    {% elif document.subcategory.name == 'Информационные материалы' %} type-info
                    {% endif %}"
                    style="scale: 0.8;" for="subject-{{ document.subcategory }}">
                 {{ document.subcategory }}
                 </label>
                <a href="{% url 'docs:document_detail' document.id %}" class="stretched-link"></a>
            </div>
        </div>
    </div>
    {% empty %}
    <p class="text-muted">Нет документов.</p>
    {% endfor %}
</div>
</div>
</div>